{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, MOUSE, Vector3, Vector2, Quaternion } from 'three';\n\nclass TrackballControls extends EventDispatcher {\n  // internals\n  // events\n  constructor(object, _domElement) {\n    super();\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"screen\", {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    });\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"zoomSpeed\", 1.2);\n\n    _defineProperty(this, \"panSpeed\", 0.3);\n\n    _defineProperty(this, \"noRotate\", false);\n\n    _defineProperty(this, \"noZoom\", false);\n\n    _defineProperty(this, \"noPan\", false);\n\n    _defineProperty(this, \"staticMoving\", false);\n\n    _defineProperty(this, \"dynamicDampingFactor\", 0.2);\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"keys\", ['KeyA'\n    /*A*/\n    , 'KeyS'\n    /*S*/\n    , 'KeyD'\n    /*D*/\n    ]);\n\n    _defineProperty(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"cursorZoom\", false);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"mousePosition\", new Vector2());\n\n    _defineProperty(this, \"STATE\", {\n      NONE: -1,\n      ROTATE: 0,\n      ZOOM: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_ZOOM_PAN: 4\n    });\n\n    _defineProperty(this, \"EPS\", 0.000001);\n\n    _defineProperty(this, \"lastZoom\", 1);\n\n    _defineProperty(this, \"lastPosition\", new Vector3());\n\n    _defineProperty(this, \"cursorVector\", new Vector3());\n\n    _defineProperty(this, \"targetVector\", new Vector3());\n\n    _defineProperty(this, \"_state\", this.STATE.NONE);\n\n    _defineProperty(this, \"_keyState\", this.STATE.NONE);\n\n    _defineProperty(this, \"_eye\", new Vector3());\n\n    _defineProperty(this, \"_movePrev\", new Vector2());\n\n    _defineProperty(this, \"_moveCurr\", new Vector2());\n\n    _defineProperty(this, \"_lastAxis\", new Vector3());\n\n    _defineProperty(this, \"_lastAngle\", 0);\n\n    _defineProperty(this, \"_zoomStart\", new Vector2());\n\n    _defineProperty(this, \"_zoomEnd\", new Vector2());\n\n    _defineProperty(this, \"_touchZoomDistanceStart\", 0);\n\n    _defineProperty(this, \"_touchZoomDistanceEnd\", 0);\n\n    _defineProperty(this, \"_panStart\", new Vector2());\n\n    _defineProperty(this, \"_panEnd\", new Vector2());\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"up0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"startEvent\", {\n      type: 'start'\n    });\n\n    _defineProperty(this, \"endEvent\", {\n      type: 'end'\n    });\n\n    _defineProperty(this, \"onScreenVector\", new Vector2());\n\n    _defineProperty(this, \"getMouseOnScreen\", (pageX, pageY) => {\n      this.onScreenVector.set((pageX - this.screen.left) / this.screen.width, (pageY - this.screen.top) / this.screen.height);\n      return this.onScreenVector;\n    });\n\n    _defineProperty(this, \"onCircleVector\", new Vector2());\n\n    _defineProperty(this, \"getMouseOnCircle\", (pageX, pageY) => {\n      this.onCircleVector.set((pageX - this.screen.width * 0.5 - this.screen.left) / (this.screen.width * 0.5), (this.screen.height + 2 * (this.screen.top - pageY)) / this.screen.width // screen.width intentional\n      );\n      return this.onCircleVector;\n    });\n\n    _defineProperty(this, \"axis\", new Vector3());\n\n    _defineProperty(this, \"quaternion\", new Quaternion());\n\n    _defineProperty(this, \"eyeDirection\", new Vector3());\n\n    _defineProperty(this, \"objectUpDirection\", new Vector3());\n\n    _defineProperty(this, \"objectSidewaysDirection\", new Vector3());\n\n    _defineProperty(this, \"moveDirection\", new Vector3());\n\n    _defineProperty(this, \"angle\", 0);\n\n    _defineProperty(this, \"rotateCamera\", () => {\n      this.moveDirection.set(this._moveCurr.x - this._movePrev.x, this._moveCurr.y - this._movePrev.y, 0);\n      this.angle = this.moveDirection.length();\n\n      if (this.angle) {\n        this._eye.copy(this.object.position).sub(this.target);\n\n        this.eyeDirection.copy(this._eye).normalize();\n        this.objectUpDirection.copy(this.object.up).normalize();\n        this.objectSidewaysDirection.crossVectors(this.objectUpDirection, this.eyeDirection).normalize();\n        this.objectUpDirection.setLength(this._moveCurr.y - this._movePrev.y);\n        this.objectSidewaysDirection.setLength(this._moveCurr.x - this._movePrev.x);\n        this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection));\n        this.axis.crossVectors(this.moveDirection, this._eye).normalize();\n        this.angle *= this.rotateSpeed;\n        this.quaternion.setFromAxisAngle(this.axis, this.angle);\n\n        this._eye.applyQuaternion(this.quaternion);\n\n        this.object.up.applyQuaternion(this.quaternion);\n\n        this._lastAxis.copy(this.axis);\n\n        this._lastAngle = this.angle;\n      } else if (!this.staticMoving && this._lastAngle) {\n        this._lastAngle *= Math.sqrt(1.0 - this.dynamicDampingFactor);\n\n        this._eye.copy(this.object.position).sub(this.target);\n\n        this.quaternion.setFromAxisAngle(this._lastAxis, this._lastAngle);\n\n        this._eye.applyQuaternion(this.quaternion);\n\n        this.object.up.applyQuaternion(this.quaternion);\n      }\n\n      this._movePrev.copy(this._moveCurr);\n    });\n\n    _defineProperty(this, \"zoomCamera\", () => {\n      let factor;\n\n      if (this._state === this.STATE.TOUCH_ZOOM_PAN) {\n        factor = this._touchZoomDistanceStart / this._touchZoomDistanceEnd;\n        this._touchZoomDistanceStart = this._touchZoomDistanceEnd;\n\n        if (this.object.isPerspectiveCamera) {\n          this._eye.multiplyScalar(factor);\n        } else if (this.object.isOrthographicCamera) {\n          this.object.zoom /= factor;\n          this.object.updateProjectionMatrix();\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type');\n        }\n      } else {\n        factor = 1.0 + (this._zoomEnd.y - this._zoomStart.y) * this.zoomSpeed;\n\n        if (Math.abs(factor - 1.0) > this.EPS && factor > 0.0) {\n          if (this.object.isPerspectiveCamera) {\n            if (factor > 1.0 && this._eye.length() >= this.maxDistance - this.EPS) {\n              factor = 1.0;\n            }\n\n            this._eye.multiplyScalar(factor);\n          } else if (this.object.isOrthographicCamera) {\n            if (factor > 1.0 && this.object.zoom < this.maxDistance * this.maxDistance) {\n              factor = 1.0;\n            }\n\n            this.object.zoom /= factor;\n          } else {\n            console.warn('THREE.TrackballControls: Unsupported camera type');\n          }\n        }\n\n        if (this.staticMoving) {\n          this._zoomStart.copy(this._zoomEnd);\n        } else {\n          this._zoomStart.y += (this._zoomEnd.y - this._zoomStart.y) * this.dynamicDampingFactor;\n        }\n\n        if (this.cursorZoom) {\n          //determine 3D position of mouse cursor (on target plane)\n          this.targetVector.copy(this.target).project(this.object);\n          let worldPos = this.cursorVector.set(this.mousePosition.x, this.mousePosition.y, this.targetVector.z).unproject(this.object); //adjust target point so that \"point\" stays in place\n\n          this.target.lerpVectors(worldPos, this.target, factor);\n        } // Update the projection matrix after all properties are changed\n\n\n        if (this.object.isOrthographicCamera) {\n          this.object.updateProjectionMatrix();\n        }\n      }\n    });\n\n    _defineProperty(this, \"mouseChange\", new Vector2());\n\n    _defineProperty(this, \"objectUp\", new Vector3());\n\n    _defineProperty(this, \"pan\", new Vector3());\n\n    _defineProperty(this, \"panCamera\", () => {\n      if (!this.domElement) return;\n      this.mouseChange.copy(this._panEnd).sub(this._panStart);\n\n      if (this.mouseChange.lengthSq() > this.EPS) {\n        if (this.object.isOrthographicCamera) {\n          const orthoObject = this.object;\n          const scale_x = (orthoObject.right - orthoObject.left) / this.object.zoom;\n          const scale_y = (orthoObject.top - orthoObject.bottom) / this.object.zoom;\n          this.mouseChange.x *= scale_x;\n          this.mouseChange.y *= scale_y;\n        } else {\n          this.mouseChange.multiplyScalar(this._eye.length() * this.panSpeed);\n        }\n\n        this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x);\n        this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y));\n        this.object.position.add(this.pan);\n        this.target.add(this.pan);\n\n        if (this.staticMoving) {\n          this._panStart.copy(this._panEnd);\n        } else {\n          this._panStart.add(this.mouseChange.subVectors(this._panEnd, this._panStart).multiplyScalar(this.dynamicDampingFactor));\n        }\n      }\n    });\n\n    _defineProperty(this, \"checkDistances\", () => {\n      if (!this.noZoom || !this.noPan) {\n        if (this._eye.lengthSq() > this.maxDistance * this.maxDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.maxDistance));\n\n          this._zoomStart.copy(this._zoomEnd);\n        }\n\n        if (this._eye.lengthSq() < this.minDistance * this.minDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.minDistance));\n\n          this._zoomStart.copy(this._zoomEnd);\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleResize\", () => {\n      if (!this.domElement) return;\n      const box = this.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\n\n      const d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n    });\n\n    _defineProperty(this, \"update\", () => {\n      this._eye.subVectors(this.object.position, this.target);\n\n      if (!this.noRotate) {\n        this.rotateCamera();\n      }\n\n      if (!this.noZoom) {\n        this.zoomCamera();\n      }\n\n      if (!this.noPan) {\n        this.panCamera();\n      }\n\n      this.object.position.addVectors(this.target, this._eye);\n\n      if (this.object.isPerspectiveCamera) {\n        this.checkDistances();\n        this.object.lookAt(this.target);\n\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n        }\n      } else if (this.object.isOrthographicCamera) {\n        this.object.lookAt(this.target);\n\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS || this.lastZoom !== this.object.zoom) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n          this.lastZoom = this.object.zoom;\n        }\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type');\n      }\n    });\n\n    _defineProperty(this, \"reset\", () => {\n      this._state = this.STATE.NONE;\n      this._keyState = this.STATE.NONE;\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.up.copy(this.up0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n\n      this._eye.subVectors(this.object.position, this.target);\n\n      this.object.lookAt(this.target);\n      this.dispatchEvent(this.changeEvent);\n      this.lastPosition.copy(this.object.position);\n      this.lastZoom = this.object.zoom;\n    });\n\n    _defineProperty(this, \"keydown\", event => {\n      if (this.enabled === false) return;\n      window.removeEventListener('keydown', this.keydown);\n\n      if (this._keyState !== this.STATE.NONE) {\n        return;\n      } else if (event.code === this.keys[this.STATE.ROTATE] && !this.noRotate) {\n        this._keyState = this.STATE.ROTATE;\n      } else if (event.code === this.keys[this.STATE.ZOOM] && !this.noZoom) {\n        this._keyState = this.STATE.ZOOM;\n      } else if (event.code === this.keys[this.STATE.PAN] && !this.noPan) {\n        this._keyState = this.STATE.PAN;\n      }\n    });\n\n    _defineProperty(this, \"onPointerDown\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.onMouseDown(event);\n          break;\n        // TODO touch\n      }\n    });\n\n    _defineProperty(this, \"onPointerMove\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.onMouseMove(event);\n          break;\n        // TODO touch\n      }\n    });\n\n    _defineProperty(this, \"onPointerUp\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.onMouseUp();\n          break;\n        // TODO touch\n      }\n    });\n\n    _defineProperty(this, \"keyup\", () => {\n      if (this.enabled === false) return;\n      this._keyState = this.STATE.NONE;\n      window.addEventListener('keydown', this.keydown);\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      if (!this.domElement) return;\n\n      if (this._state === this.STATE.NONE) {\n        switch (event.button) {\n          case this.mouseButtons.LEFT:\n            this._state = this.STATE.ROTATE;\n            break;\n\n          case this.mouseButtons.MIDDLE:\n            this._state = this.STATE.ZOOM;\n            break;\n\n          case this.mouseButtons.RIGHT:\n            this._state = this.STATE.PAN;\n            break;\n\n          default:\n            this._state = this.STATE.NONE;\n        }\n      }\n\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n\n        this._movePrev.copy(this._moveCurr);\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n\n        this._zoomEnd.copy(this._zoomStart);\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n\n        this._panEnd.copy(this._panStart);\n      }\n\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n      this.dispatchEvent(this.startEvent);\n    });\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.enabled === false) return;\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._movePrev.copy(this._moveCurr);\n\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      }\n    });\n\n    _defineProperty(this, \"onMouseUp\", () => {\n      if (!this.domElement) return;\n      if (this.enabled === false) return;\n      this._state = this.STATE.NONE;\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener('pointerup', this.onPointerUp);\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"mousewheel\", event => {\n      if (this.enabled === false) return;\n      if (this.noZoom === true) return;\n      event.preventDefault();\n\n      switch (event.deltaMode) {\n        case 2:\n          // Zoom in pages\n          this._zoomStart.y -= event.deltaY * 0.025;\n          break;\n\n        case 1:\n          // Zoom in lines\n          this._zoomStart.y -= event.deltaY * 0.01;\n          break;\n\n        default:\n          // undefined, 0, assume pixels\n          this._zoomStart.y -= event.deltaY * 0.00025;\n          break;\n      }\n\n      this.mousePosition.x = event.offsetX / this.screen.width * 2 - 1;\n      this.mousePosition.y = -(event.offsetY / this.screen.height) * 2 + 1;\n      this.dispatchEvent(this.startEvent);\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"touchstart\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          this._movePrev.copy(this._moveCurr);\n\n          break;\n\n        default:\n          // 2 or more\n          this._state = this.STATE.TOUCH_ZOOM_PAN;\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n          this._panStart.copy(this.getMouseOnScreen(x, y));\n\n          this._panEnd.copy(this._panStart);\n\n          break;\n      }\n\n      this.dispatchEvent(this.startEvent);\n    });\n\n    _defineProperty(this, \"touchmove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          this._movePrev.copy(this._moveCurr);\n\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          break;\n\n        default:\n          // 2 or more\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n          this._panEnd.copy(this.getMouseOnScreen(x, y));\n\n          break;\n      }\n    });\n\n    _defineProperty(this, \"touchend\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 0:\n          this._state = this.STATE.NONE;\n          break;\n\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          this._movePrev.copy(this._moveCurr);\n\n          break;\n      }\n\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"contextmenu\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n    });\n\n    _defineProperty(this, \"connect\", domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      this.domElement = domElement;\n      this.domElement.addEventListener('contextmenu', this.contextmenu);\n      this.domElement.addEventListener('pointerdown', this.onPointerDown);\n      this.domElement.addEventListener('wheel', this.mousewheel);\n      this.domElement.addEventListener('touchstart', this.touchstart);\n      this.domElement.addEventListener('touchend', this.touchend);\n      this.domElement.addEventListener('touchmove', this.touchmove);\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n      window.addEventListener('keydown', this.keydown);\n      window.addEventListener('keyup', this.keyup);\n      this.handleResize();\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      if (!this.domElement) return;\n      this.domElement.removeEventListener('contextmenu', this.contextmenu);\n      this.domElement.removeEventListener('pointerdown', this.onPointerDown);\n      this.domElement.removeEventListener('wheel', this.mousewheel);\n      this.domElement.removeEventListener('touchstart', this.touchstart);\n      this.domElement.removeEventListener('touchend', this.touchend);\n      this.domElement.removeEventListener('touchmove', this.touchmove);\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener('pointerup', this.onPointerUp);\n      window.removeEventListener('keydown', this.keydown);\n      window.removeEventListener('keyup', this.keyup);\n    });\n\n    this.object = object; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.up0 = this.object.up.clone();\n    this.zoom0 = this.object.zoom; // connect events\n\n    if (_domElement !== undefined) this.connect(_domElement); // force an update at start\n\n    this.update();\n  }\n\n}\n\nexport { TrackballControls };","map":{"version":3,"names":["_defineProperty","EventDispatcher","MOUSE","Vector3","Vector2","Quaternion","TrackballControls","constructor","object","_domElement","left","top","width","height","Infinity","LEFT","ROTATE","MIDDLE","DOLLY","RIGHT","PAN","NONE","ZOOM","TOUCH_ROTATE","TOUCH_ZOOM_PAN","STATE","type","pageX","pageY","onScreenVector","set","screen","onCircleVector","moveDirection","_moveCurr","x","_movePrev","y","angle","length","_eye","copy","position","sub","target","eyeDirection","normalize","objectUpDirection","up","objectSidewaysDirection","crossVectors","setLength","add","axis","rotateSpeed","quaternion","setFromAxisAngle","applyQuaternion","_lastAxis","_lastAngle","staticMoving","Math","sqrt","dynamicDampingFactor","factor","_state","_touchZoomDistanceStart","_touchZoomDistanceEnd","isPerspectiveCamera","multiplyScalar","isOrthographicCamera","zoom","updateProjectionMatrix","console","warn","_zoomEnd","_zoomStart","zoomSpeed","abs","EPS","maxDistance","cursorZoom","targetVector","project","worldPos","cursorVector","mousePosition","z","unproject","lerpVectors","domElement","mouseChange","_panEnd","_panStart","lengthSq","orthoObject","scale_x","right","scale_y","bottom","panSpeed","pan","cross","objectUp","subVectors","noZoom","noPan","addVectors","minDistance","box","getBoundingClientRect","d","ownerDocument","documentElement","window","pageXOffset","clientLeft","pageYOffset","clientTop","noRotate","rotateCamera","zoomCamera","panCamera","checkDistances","lookAt","lastPosition","distanceToSquared","dispatchEvent","changeEvent","lastZoom","_keyState","target0","position0","up0","zoom0","event","enabled","removeEventListener","keydown","code","keys","pointerType","onMouseDown","onMouseMove","onMouseUp","addEventListener","button","mouseButtons","state","getMouseOnCircle","getMouseOnScreen","onPointerMove","onPointerUp","startEvent","endEvent","preventDefault","deltaMode","deltaY","offsetX","offsetY","touches","dx","dy","document","error","contextmenu","onPointerDown","mousewheel","touchstart","touchend","touchmove","keyup","handleResize","clone","undefined","connect","update"],"sources":["/home/odin/Desktop/THP☠/Developpeur/Final_Project/pokeland/node_modules/three-stdlib/controls/TrackballControls.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, MOUSE, Vector3, Vector2, Quaternion } from 'three';\n\nclass TrackballControls extends EventDispatcher {\n  // internals\n  // events\n  constructor(object, _domElement) {\n    super();\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"screen\", {\n      left: 0,\n      top: 0,\n      width: 0,\n      height: 0\n    });\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"zoomSpeed\", 1.2);\n\n    _defineProperty(this, \"panSpeed\", 0.3);\n\n    _defineProperty(this, \"noRotate\", false);\n\n    _defineProperty(this, \"noZoom\", false);\n\n    _defineProperty(this, \"noPan\", false);\n\n    _defineProperty(this, \"staticMoving\", false);\n\n    _defineProperty(this, \"dynamicDampingFactor\", 0.2);\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"keys\", ['KeyA'\n    /*A*/\n    , 'KeyS'\n    /*S*/\n    , 'KeyD'\n    /*D*/\n    ]);\n\n    _defineProperty(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"cursorZoom\", false);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"mousePosition\", new Vector2());\n\n    _defineProperty(this, \"STATE\", {\n      NONE: -1,\n      ROTATE: 0,\n      ZOOM: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_ZOOM_PAN: 4\n    });\n\n    _defineProperty(this, \"EPS\", 0.000001);\n\n    _defineProperty(this, \"lastZoom\", 1);\n\n    _defineProperty(this, \"lastPosition\", new Vector3());\n\n    _defineProperty(this, \"cursorVector\", new Vector3());\n\n    _defineProperty(this, \"targetVector\", new Vector3());\n\n    _defineProperty(this, \"_state\", this.STATE.NONE);\n\n    _defineProperty(this, \"_keyState\", this.STATE.NONE);\n\n    _defineProperty(this, \"_eye\", new Vector3());\n\n    _defineProperty(this, \"_movePrev\", new Vector2());\n\n    _defineProperty(this, \"_moveCurr\", new Vector2());\n\n    _defineProperty(this, \"_lastAxis\", new Vector3());\n\n    _defineProperty(this, \"_lastAngle\", 0);\n\n    _defineProperty(this, \"_zoomStart\", new Vector2());\n\n    _defineProperty(this, \"_zoomEnd\", new Vector2());\n\n    _defineProperty(this, \"_touchZoomDistanceStart\", 0);\n\n    _defineProperty(this, \"_touchZoomDistanceEnd\", 0);\n\n    _defineProperty(this, \"_panStart\", new Vector2());\n\n    _defineProperty(this, \"_panEnd\", new Vector2());\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"up0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"startEvent\", {\n      type: 'start'\n    });\n\n    _defineProperty(this, \"endEvent\", {\n      type: 'end'\n    });\n\n    _defineProperty(this, \"onScreenVector\", new Vector2());\n\n    _defineProperty(this, \"getMouseOnScreen\", (pageX, pageY) => {\n      this.onScreenVector.set((pageX - this.screen.left) / this.screen.width, (pageY - this.screen.top) / this.screen.height);\n      return this.onScreenVector;\n    });\n\n    _defineProperty(this, \"onCircleVector\", new Vector2());\n\n    _defineProperty(this, \"getMouseOnCircle\", (pageX, pageY) => {\n      this.onCircleVector.set((pageX - this.screen.width * 0.5 - this.screen.left) / (this.screen.width * 0.5), (this.screen.height + 2 * (this.screen.top - pageY)) / this.screen.width // screen.width intentional\n      );\n      return this.onCircleVector;\n    });\n\n    _defineProperty(this, \"axis\", new Vector3());\n\n    _defineProperty(this, \"quaternion\", new Quaternion());\n\n    _defineProperty(this, \"eyeDirection\", new Vector3());\n\n    _defineProperty(this, \"objectUpDirection\", new Vector3());\n\n    _defineProperty(this, \"objectSidewaysDirection\", new Vector3());\n\n    _defineProperty(this, \"moveDirection\", new Vector3());\n\n    _defineProperty(this, \"angle\", 0);\n\n    _defineProperty(this, \"rotateCamera\", () => {\n      this.moveDirection.set(this._moveCurr.x - this._movePrev.x, this._moveCurr.y - this._movePrev.y, 0);\n      this.angle = this.moveDirection.length();\n\n      if (this.angle) {\n        this._eye.copy(this.object.position).sub(this.target);\n\n        this.eyeDirection.copy(this._eye).normalize();\n        this.objectUpDirection.copy(this.object.up).normalize();\n        this.objectSidewaysDirection.crossVectors(this.objectUpDirection, this.eyeDirection).normalize();\n        this.objectUpDirection.setLength(this._moveCurr.y - this._movePrev.y);\n        this.objectSidewaysDirection.setLength(this._moveCurr.x - this._movePrev.x);\n        this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection));\n        this.axis.crossVectors(this.moveDirection, this._eye).normalize();\n        this.angle *= this.rotateSpeed;\n        this.quaternion.setFromAxisAngle(this.axis, this.angle);\n\n        this._eye.applyQuaternion(this.quaternion);\n\n        this.object.up.applyQuaternion(this.quaternion);\n\n        this._lastAxis.copy(this.axis);\n\n        this._lastAngle = this.angle;\n      } else if (!this.staticMoving && this._lastAngle) {\n        this._lastAngle *= Math.sqrt(1.0 - this.dynamicDampingFactor);\n\n        this._eye.copy(this.object.position).sub(this.target);\n\n        this.quaternion.setFromAxisAngle(this._lastAxis, this._lastAngle);\n\n        this._eye.applyQuaternion(this.quaternion);\n\n        this.object.up.applyQuaternion(this.quaternion);\n      }\n\n      this._movePrev.copy(this._moveCurr);\n    });\n\n    _defineProperty(this, \"zoomCamera\", () => {\n      let factor;\n\n      if (this._state === this.STATE.TOUCH_ZOOM_PAN) {\n        factor = this._touchZoomDistanceStart / this._touchZoomDistanceEnd;\n        this._touchZoomDistanceStart = this._touchZoomDistanceEnd;\n\n        if (this.object.isPerspectiveCamera) {\n          this._eye.multiplyScalar(factor);\n        } else if (this.object.isOrthographicCamera) {\n          this.object.zoom /= factor;\n          this.object.updateProjectionMatrix();\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type');\n        }\n      } else {\n        factor = 1.0 + (this._zoomEnd.y - this._zoomStart.y) * this.zoomSpeed;\n\n        if (Math.abs(factor - 1.0) > this.EPS && factor > 0.0) {\n          if (this.object.isPerspectiveCamera) {\n            if (factor > 1.0 && this._eye.length() >= this.maxDistance - this.EPS) {\n              factor = 1.0;\n            }\n\n            this._eye.multiplyScalar(factor);\n          } else if (this.object.isOrthographicCamera) {\n            if (factor > 1.0 && this.object.zoom < this.maxDistance * this.maxDistance) {\n              factor = 1.0;\n            }\n\n            this.object.zoom /= factor;\n          } else {\n            console.warn('THREE.TrackballControls: Unsupported camera type');\n          }\n        }\n\n        if (this.staticMoving) {\n          this._zoomStart.copy(this._zoomEnd);\n        } else {\n          this._zoomStart.y += (this._zoomEnd.y - this._zoomStart.y) * this.dynamicDampingFactor;\n        }\n\n        if (this.cursorZoom) {\n          //determine 3D position of mouse cursor (on target plane)\n          this.targetVector.copy(this.target).project(this.object);\n          let worldPos = this.cursorVector.set(this.mousePosition.x, this.mousePosition.y, this.targetVector.z).unproject(this.object); //adjust target point so that \"point\" stays in place\n\n          this.target.lerpVectors(worldPos, this.target, factor);\n        } // Update the projection matrix after all properties are changed\n\n\n        if (this.object.isOrthographicCamera) {\n          this.object.updateProjectionMatrix();\n        }\n      }\n    });\n\n    _defineProperty(this, \"mouseChange\", new Vector2());\n\n    _defineProperty(this, \"objectUp\", new Vector3());\n\n    _defineProperty(this, \"pan\", new Vector3());\n\n    _defineProperty(this, \"panCamera\", () => {\n      if (!this.domElement) return;\n      this.mouseChange.copy(this._panEnd).sub(this._panStart);\n\n      if (this.mouseChange.lengthSq() > this.EPS) {\n        if (this.object.isOrthographicCamera) {\n          const orthoObject = this.object;\n          const scale_x = (orthoObject.right - orthoObject.left) / this.object.zoom;\n          const scale_y = (orthoObject.top - orthoObject.bottom) / this.object.zoom;\n          this.mouseChange.x *= scale_x;\n          this.mouseChange.y *= scale_y;\n        } else {\n          this.mouseChange.multiplyScalar(this._eye.length() * this.panSpeed);\n        }\n\n        this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x);\n        this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y));\n        this.object.position.add(this.pan);\n        this.target.add(this.pan);\n\n        if (this.staticMoving) {\n          this._panStart.copy(this._panEnd);\n        } else {\n          this._panStart.add(this.mouseChange.subVectors(this._panEnd, this._panStart).multiplyScalar(this.dynamicDampingFactor));\n        }\n      }\n    });\n\n    _defineProperty(this, \"checkDistances\", () => {\n      if (!this.noZoom || !this.noPan) {\n        if (this._eye.lengthSq() > this.maxDistance * this.maxDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.maxDistance));\n\n          this._zoomStart.copy(this._zoomEnd);\n        }\n\n        if (this._eye.lengthSq() < this.minDistance * this.minDistance) {\n          this.object.position.addVectors(this.target, this._eye.setLength(this.minDistance));\n\n          this._zoomStart.copy(this._zoomEnd);\n        }\n      }\n    });\n\n    _defineProperty(this, \"handleResize\", () => {\n      if (!this.domElement) return;\n      const box = this.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\n\n      const d = this.domElement.ownerDocument.documentElement;\n      this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n      this.screen.top = box.top + window.pageYOffset - d.clientTop;\n      this.screen.width = box.width;\n      this.screen.height = box.height;\n    });\n\n    _defineProperty(this, \"update\", () => {\n      this._eye.subVectors(this.object.position, this.target);\n\n      if (!this.noRotate) {\n        this.rotateCamera();\n      }\n\n      if (!this.noZoom) {\n        this.zoomCamera();\n      }\n\n      if (!this.noPan) {\n        this.panCamera();\n      }\n\n      this.object.position.addVectors(this.target, this._eye);\n\n      if (this.object.isPerspectiveCamera) {\n        this.checkDistances();\n        this.object.lookAt(this.target);\n\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n        }\n      } else if (this.object.isOrthographicCamera) {\n        this.object.lookAt(this.target);\n\n        if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS || this.lastZoom !== this.object.zoom) {\n          this.dispatchEvent(this.changeEvent);\n          this.lastPosition.copy(this.object.position);\n          this.lastZoom = this.object.zoom;\n        }\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type');\n      }\n    });\n\n    _defineProperty(this, \"reset\", () => {\n      this._state = this.STATE.NONE;\n      this._keyState = this.STATE.NONE;\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.up.copy(this.up0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n\n      this._eye.subVectors(this.object.position, this.target);\n\n      this.object.lookAt(this.target);\n      this.dispatchEvent(this.changeEvent);\n      this.lastPosition.copy(this.object.position);\n      this.lastZoom = this.object.zoom;\n    });\n\n    _defineProperty(this, \"keydown\", event => {\n      if (this.enabled === false) return;\n      window.removeEventListener('keydown', this.keydown);\n\n      if (this._keyState !== this.STATE.NONE) {\n        return;\n      } else if (event.code === this.keys[this.STATE.ROTATE] && !this.noRotate) {\n        this._keyState = this.STATE.ROTATE;\n      } else if (event.code === this.keys[this.STATE.ZOOM] && !this.noZoom) {\n        this._keyState = this.STATE.ZOOM;\n      } else if (event.code === this.keys[this.STATE.PAN] && !this.noPan) {\n        this._keyState = this.STATE.PAN;\n      }\n    });\n\n    _defineProperty(this, \"onPointerDown\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.onMouseDown(event);\n          break;\n        // TODO touch\n      }\n    });\n\n    _defineProperty(this, \"onPointerMove\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.onMouseMove(event);\n          break;\n        // TODO touch\n      }\n    });\n\n    _defineProperty(this, \"onPointerUp\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.onMouseUp();\n          break;\n        // TODO touch\n      }\n    });\n\n    _defineProperty(this, \"keyup\", () => {\n      if (this.enabled === false) return;\n      this._keyState = this.STATE.NONE;\n      window.addEventListener('keydown', this.keydown);\n    });\n\n    _defineProperty(this, \"onMouseDown\", event => {\n      if (!this.domElement) return;\n\n      if (this._state === this.STATE.NONE) {\n        switch (event.button) {\n          case this.mouseButtons.LEFT:\n            this._state = this.STATE.ROTATE;\n            break;\n\n          case this.mouseButtons.MIDDLE:\n            this._state = this.STATE.ZOOM;\n            break;\n\n          case this.mouseButtons.RIGHT:\n            this._state = this.STATE.PAN;\n            break;\n\n          default:\n            this._state = this.STATE.NONE;\n        }\n      }\n\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n\n        this._movePrev.copy(this._moveCurr);\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n\n        this._zoomEnd.copy(this._zoomStart);\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panStart.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n\n        this._panEnd.copy(this._panStart);\n      }\n\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n      this.dispatchEvent(this.startEvent);\n    });\n\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.enabled === false) return;\n      const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state;\n\n      if (state === this.STATE.ROTATE && !this.noRotate) {\n        this._movePrev.copy(this._moveCurr);\n\n        this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY));\n      } else if (state === this.STATE.ZOOM && !this.noZoom) {\n        this._zoomEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      } else if (state === this.STATE.PAN && !this.noPan) {\n        this._panEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY));\n      }\n    });\n\n    _defineProperty(this, \"onMouseUp\", () => {\n      if (!this.domElement) return;\n      if (this.enabled === false) return;\n      this._state = this.STATE.NONE;\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener('pointerup', this.onPointerUp);\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"mousewheel\", event => {\n      if (this.enabled === false) return;\n      if (this.noZoom === true) return;\n      event.preventDefault();\n\n      switch (event.deltaMode) {\n        case 2:\n          // Zoom in pages\n          this._zoomStart.y -= event.deltaY * 0.025;\n          break;\n\n        case 1:\n          // Zoom in lines\n          this._zoomStart.y -= event.deltaY * 0.01;\n          break;\n\n        default:\n          // undefined, 0, assume pixels\n          this._zoomStart.y -= event.deltaY * 0.00025;\n          break;\n      }\n\n      this.mousePosition.x = event.offsetX / this.screen.width * 2 - 1;\n      this.mousePosition.y = -(event.offsetY / this.screen.height) * 2 + 1;\n      this.dispatchEvent(this.startEvent);\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"touchstart\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          this._movePrev.copy(this._moveCurr);\n\n          break;\n\n        default:\n          // 2 or more\n          this._state = this.STATE.TOUCH_ZOOM_PAN;\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n          this._panStart.copy(this.getMouseOnScreen(x, y));\n\n          this._panEnd.copy(this._panStart);\n\n          break;\n      }\n\n      this.dispatchEvent(this.startEvent);\n    });\n\n    _defineProperty(this, \"touchmove\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          this._movePrev.copy(this._moveCurr);\n\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          break;\n\n        default:\n          // 2 or more\n          const dx = event.touches[0].pageX - event.touches[1].pageX;\n          const dy = event.touches[0].pageY - event.touches[1].pageY;\n          this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n          const x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n          const y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n          this._panEnd.copy(this.getMouseOnScreen(x, y));\n\n          break;\n      }\n    });\n\n    _defineProperty(this, \"touchend\", event => {\n      if (this.enabled === false) return;\n\n      switch (event.touches.length) {\n        case 0:\n          this._state = this.STATE.NONE;\n          break;\n\n        case 1:\n          this._state = this.STATE.TOUCH_ROTATE;\n\n          this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n          this._movePrev.copy(this._moveCurr);\n\n          break;\n      }\n\n      this.dispatchEvent(this.endEvent);\n    });\n\n    _defineProperty(this, \"contextmenu\", event => {\n      if (this.enabled === false) return;\n      event.preventDefault();\n    });\n\n    _defineProperty(this, \"connect\", domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      this.domElement = domElement;\n      this.domElement.addEventListener('contextmenu', this.contextmenu);\n      this.domElement.addEventListener('pointerdown', this.onPointerDown);\n      this.domElement.addEventListener('wheel', this.mousewheel);\n      this.domElement.addEventListener('touchstart', this.touchstart);\n      this.domElement.addEventListener('touchend', this.touchend);\n      this.domElement.addEventListener('touchmove', this.touchmove);\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n      window.addEventListener('keydown', this.keydown);\n      window.addEventListener('keyup', this.keyup);\n      this.handleResize();\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      if (!this.domElement) return;\n      this.domElement.removeEventListener('contextmenu', this.contextmenu);\n      this.domElement.removeEventListener('pointerdown', this.onPointerDown);\n      this.domElement.removeEventListener('wheel', this.mousewheel);\n      this.domElement.removeEventListener('touchstart', this.touchstart);\n      this.domElement.removeEventListener('touchend', this.touchend);\n      this.domElement.removeEventListener('touchmove', this.touchmove);\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.domElement.ownerDocument.removeEventListener('pointerup', this.onPointerUp);\n      window.removeEventListener('keydown', this.keydown);\n      window.removeEventListener('keyup', this.keyup);\n    });\n\n    this.object = object; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.up0 = this.object.up.clone();\n    this.zoom0 = this.object.zoom; // connect events\n\n    if (_domElement !== undefined) this.connect(_domElement); // force an update at start\n\n    this.update();\n  }\n\n}\n\nexport { TrackballControls };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
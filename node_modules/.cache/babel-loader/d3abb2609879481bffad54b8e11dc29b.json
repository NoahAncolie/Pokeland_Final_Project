{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\n\nclass VRButton {\n  static createButton(renderer) {\n    let sessionInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const button = document.createElement('button');\n\n    function\n    /*device*/\n    showEnterVR() {\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n      }\n\n      function\n      /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n\n      button.onmouseenter = () => {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = () => {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = () => {\n        if (currentSession === null) {\n          var _xr; // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n\n\n          const optionalFeatures = [sessionInit.optionalFeatures, 'local-floor', 'bounded-floor', 'hand-tracking'].flat().filter(Boolean);\n          (_xr = navigator.xr) === null || _xr === void 0 ? void 0 : _xr.requestSession('immersive-vr', { ...sessionInit,\n            optionalFeatures\n          }).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      stylizeElement(button);\n      button.id = 'VRButton';\n      button.style.display = 'none' // Query for session mode\n      ;\n      navigator.xr.isSessionSupported('immersive-vr').then(supported => {\n        supported ? showEnterVR() : showWebXRNotFound();\n\n        if (supported && VRButton.xrSessionIsGranted) {\n          button.click();\n        }\n      });\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n  static registerSessionGrantedListener() {\n    if ('xr' in navigator) {\n      navigator.xr.addEventListener('sessiongranted', () => {\n        VRButton.xrSessionIsGranted = true;\n      });\n    }\n  }\n\n}\n\n_defineProperty(VRButton, \"xrSessionIsGranted\", false);\n\nexport { VRButton };","map":{"version":3,"names":["_defineProperty","VRButton","createButton","renderer","sessionInit","button","document","createElement","showEnterVR","currentSession","onSessionStarted","session","addEventListener","onSessionEnded","xr","setSession","textContent","removeEventListener","style","display","cursor","left","width","onmouseenter","opacity","onmouseleave","onclick","_xr","optionalFeatures","flat","filter","Boolean","navigator","requestSession","then","end","disableButton","showWebXRNotFound","stylizeElement","element","position","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","id","isSessionSupported","supported","xrSessionIsGranted","click","message","window","isSecureContext","href","location","replace","innerHTML","textDecoration","registerSessionGrantedListener"],"sources":["/home/odin/Desktop/THPâ˜ /Developpeur/Final_Project/pokeland/node_modules/three-stdlib/webxr/VRButton.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\n\nclass VRButton {\n  static createButton(renderer, sessionInit = {}) {\n    const button = document.createElement('button');\n\n    function\n      /*device*/\n    showEnterVR() {\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        await renderer.xr.setSession(session);\n        button.textContent = 'EXIT VR';\n        currentSession = session;\n      }\n\n      function\n        /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'ENTER VR';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'ENTER VR';\n\n      button.onmouseenter = () => {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = () => {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = () => {\n        if (currentSession === null) {\n          var _xr;\n\n          // WebXR's requestReferenceSpace only works if the corresponding feature\n          // was requested at session creation time. For simplicity, just ask for\n          // the interesting ones as optional features, but be aware that the\n          // requestReferenceSpace call will fail if it turns out to be unavailable.\n          // ('local' is always available for immersive sessions and doesn't need to\n          // be requested separately.)\n          const optionalFeatures = [sessionInit.optionalFeatures, 'local-floor', 'bounded-floor', 'hand-tracking'].flat().filter(Boolean);\n          (_xr = navigator.xr) === null || _xr === void 0 ? void 0 : _xr.requestSession('immersive-vr', { ...sessionInit,\n            optionalFeatures\n          }).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showWebXRNotFound() {\n      disableButton();\n      button.textContent = 'VR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      stylizeElement(button);\n      button.id = 'VRButton';\n      button.style.display = 'none' // Query for session mode\n      ;\n      navigator.xr.isSessionSupported('immersive-vr').then(supported => {\n        supported ? showEnterVR() : showWebXRNotFound();\n\n        if (supported && VRButton.xrSessionIsGranted) {\n          button.click();\n        }\n      });\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n  static registerSessionGrantedListener() {\n    if ('xr' in navigator) {\n      navigator.xr.addEventListener('sessiongranted', () => {\n        VRButton.xrSessionIsGranted = true;\n      });\n    }\n  }\n\n}\n\n_defineProperty(VRButton, \"xrSessionIsGranted\", false);\n\nexport { VRButton };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
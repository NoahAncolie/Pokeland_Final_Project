{"ast":null,"code":"class ARButton {\n  static createButton(renderer) {\n    let sessionInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const button = document.createElement('button');\n\n    function\n    /*device*/\n    showStartAR() {\n      if (sessionInit.domOverlay === undefined) {\n        const overlay = document.createElement('div');\n        overlay.style.display = 'none';\n        document.body.appendChild(overlay);\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', '38px');\n        svg.setAttribute('height', '38px');\n        svg.style.position = 'absolute';\n        svg.style.right = '20px';\n        svg.style.top = '20px';\n        svg.addEventListener('click', function () {\n          var _currentSession;\n\n          (_currentSession = currentSession) === null || _currentSession === void 0 ? void 0 : _currentSession.end();\n        });\n        overlay.appendChild(svg);\n        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttribute('d', 'M 12,12 L 28,28 M 28,12 12,28');\n        path.setAttribute('stroke', '#fff');\n        path.setAttribute('stroke-width', '2px');\n        svg.appendChild(path);\n\n        if (sessionInit.optionalFeatures === undefined) {\n          sessionInit.optionalFeatures = [];\n        }\n\n        sessionInit.optionalFeatures.push('dom-overlay');\n        sessionInit.domOverlay = {\n          root: overlay\n        };\n      } //\n\n\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        renderer.xr.setReferenceSpaceType('local');\n        await renderer.xr.setSession(session);\n        button.textContent = 'STOP AR';\n        sessionInit.domOverlay.root.style.display = '';\n        currentSession = session;\n      }\n\n      function\n      /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'START AR';\n        sessionInit.domOverlay.root.style.display = 'none';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'START AR';\n\n      button.onmouseenter = () => {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = () => {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = () => {\n        if (currentSession === null) {\n          navigator.xr.requestSession('immersive-ar', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showARNotSupported() {\n      disableButton();\n      button.textContent = 'AR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      button.id = 'ARButton';\n      button.style.display = 'none';\n      stylizeElement(button) // Query for session mode\n      ;\n      navigator.xr.isSessionSupported('immersive-ar').then(function (supported) {\n        supported ? showStartAR() : showARNotSupported();\n      }).catch(showARNotSupported);\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n}\n\nexport { ARButton };","map":{"version":3,"names":["ARButton","createButton","renderer","sessionInit","button","document","createElement","showStartAR","domOverlay","undefined","overlay","style","display","body","appendChild","svg","createElementNS","setAttribute","position","right","top","addEventListener","_currentSession","currentSession","end","path","optionalFeatures","push","root","onSessionStarted","session","onSessionEnded","xr","setReferenceSpaceType","setSession","textContent","removeEventListener","cursor","left","width","onmouseenter","opacity","onmouseleave","onclick","navigator","requestSession","then","disableButton","showARNotSupported","stylizeElement","element","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","id","isSessionSupported","supported","catch","message","window","isSecureContext","href","location","replace","innerHTML","textDecoration"],"sources":["/Users/paolucciloic/Desktop/pokemon-projet-final/Pokeland_Final_Project/node_modules/three-stdlib/webxr/ARButton.js"],"sourcesContent":["class ARButton {\n  static createButton(renderer, sessionInit = {}) {\n    const button = document.createElement('button');\n\n    function\n      /*device*/\n    showStartAR() {\n      if (sessionInit.domOverlay === undefined) {\n        const overlay = document.createElement('div');\n        overlay.style.display = 'none';\n        document.body.appendChild(overlay);\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', '38px');\n        svg.setAttribute('height', '38px');\n        svg.style.position = 'absolute';\n        svg.style.right = '20px';\n        svg.style.top = '20px';\n        svg.addEventListener('click', function () {\n          var _currentSession;\n\n          (_currentSession = currentSession) === null || _currentSession === void 0 ? void 0 : _currentSession.end();\n        });\n        overlay.appendChild(svg);\n        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        path.setAttribute('d', 'M 12,12 L 28,28 M 28,12 12,28');\n        path.setAttribute('stroke', '#fff');\n        path.setAttribute('stroke-width', '2px');\n        svg.appendChild(path);\n\n        if (sessionInit.optionalFeatures === undefined) {\n          sessionInit.optionalFeatures = [];\n        }\n\n        sessionInit.optionalFeatures.push('dom-overlay');\n        sessionInit.domOverlay = {\n          root: overlay\n        };\n      } //\n\n\n      let currentSession = null;\n\n      async function onSessionStarted(session) {\n        session.addEventListener('end', onSessionEnded);\n        renderer.xr.setReferenceSpaceType('local');\n        await renderer.xr.setSession(session);\n        button.textContent = 'STOP AR';\n        sessionInit.domOverlay.root.style.display = '';\n        currentSession = session;\n      }\n\n      function\n        /*event*/\n      onSessionEnded() {\n        currentSession.removeEventListener('end', onSessionEnded);\n        button.textContent = 'START AR';\n        sessionInit.domOverlay.root.style.display = 'none';\n        currentSession = null;\n      } //\n\n\n      button.style.display = '';\n      button.style.cursor = 'pointer';\n      button.style.left = 'calc(50% - 50px)';\n      button.style.width = '100px';\n      button.textContent = 'START AR';\n\n      button.onmouseenter = () => {\n        button.style.opacity = '1.0';\n      };\n\n      button.onmouseleave = () => {\n        button.style.opacity = '0.5';\n      };\n\n      button.onclick = () => {\n        if (currentSession === null) {\n          navigator.xr.requestSession('immersive-ar', sessionInit).then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function disableButton() {\n      button.style.display = '';\n      button.style.cursor = 'auto';\n      button.style.left = 'calc(50% - 75px)';\n      button.style.width = '150px';\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n    }\n\n    function showARNotSupported() {\n      disableButton();\n      button.textContent = 'AR NOT SUPPORTED';\n    }\n\n    function stylizeElement(element) {\n      element.style.position = 'absolute';\n      element.style.bottom = '20px';\n      element.style.padding = '12px 6px';\n      element.style.border = '1px solid #fff';\n      element.style.borderRadius = '4px';\n      element.style.background = 'rgba(0,0,0,0.1)';\n      element.style.color = '#fff';\n      element.style.font = 'normal 13px sans-serif';\n      element.style.textAlign = 'center';\n      element.style.opacity = '0.5';\n      element.style.outline = 'none';\n      element.style.zIndex = '999';\n    }\n\n    if ('xr' in navigator) {\n      button.id = 'ARButton';\n      button.style.display = 'none';\n      stylizeElement(button) // Query for session mode\n      ;\n      navigator.xr.isSessionSupported('immersive-ar').then(function (supported) {\n        supported ? showStartAR() : showARNotSupported();\n      }).catch(showARNotSupported);\n      return button;\n    } else {\n      const message = document.createElement('a');\n\n      if (window.isSecureContext === false) {\n        message.href = document.location.href.replace(/^http:/, 'https:');\n        message.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n      } else {\n        message.href = 'https://immersiveweb.dev/';\n        message.innerHTML = 'WEBXR NOT AVAILABLE';\n      }\n\n      message.style.left = 'calc(50% - 90px)';\n      message.style.width = '180px';\n      message.style.textDecoration = 'none';\n      stylizeElement(message);\n      return message;\n    }\n  }\n\n}\n\nexport { ARButton };\n"],"mappings":"AAAA,MAAMA,QAAN,CAAe;EACM,OAAZC,YAAY,CAACC,QAAD,EAA6B;IAAA,IAAlBC,WAAkB,uEAAJ,EAAI;IAC9C,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;;IAEA;IACE;IACFC,WAFA,GAEc;MACZ,IAAIJ,WAAW,CAACK,UAAZ,KAA2BC,SAA/B,EAA0C;QACxC,MAAMC,OAAO,GAAGL,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;QACAI,OAAO,CAACC,KAAR,CAAcC,OAAd,GAAwB,MAAxB;QACAP,QAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BJ,OAA1B;QACA,MAAMK,GAAG,GAAGV,QAAQ,CAACW,eAAT,CAAyB,4BAAzB,EAAuD,KAAvD,CAAZ;QACAD,GAAG,CAACE,YAAJ,CAAiB,OAAjB,EAA0B,MAA1B;QACAF,GAAG,CAACE,YAAJ,CAAiB,QAAjB,EAA2B,MAA3B;QACAF,GAAG,CAACJ,KAAJ,CAAUO,QAAV,GAAqB,UAArB;QACAH,GAAG,CAACJ,KAAJ,CAAUQ,KAAV,GAAkB,MAAlB;QACAJ,GAAG,CAACJ,KAAJ,CAAUS,GAAV,GAAgB,MAAhB;QACAL,GAAG,CAACM,gBAAJ,CAAqB,OAArB,EAA8B,YAAY;UACxC,IAAIC,eAAJ;;UAEA,CAACA,eAAe,GAAGC,cAAnB,MAAuC,IAAvC,IAA+CD,eAAe,KAAK,KAAK,CAAxE,GAA4E,KAAK,CAAjF,GAAqFA,eAAe,CAACE,GAAhB,EAArF;QACD,CAJD;QAKAd,OAAO,CAACI,WAAR,CAAoBC,GAApB;QACA,MAAMU,IAAI,GAAGpB,QAAQ,CAACW,eAAT,CAAyB,4BAAzB,EAAuD,MAAvD,CAAb;QACAS,IAAI,CAACR,YAAL,CAAkB,GAAlB,EAAuB,+BAAvB;QACAQ,IAAI,CAACR,YAAL,CAAkB,QAAlB,EAA4B,MAA5B;QACAQ,IAAI,CAACR,YAAL,CAAkB,cAAlB,EAAkC,KAAlC;QACAF,GAAG,CAACD,WAAJ,CAAgBW,IAAhB;;QAEA,IAAItB,WAAW,CAACuB,gBAAZ,KAAiCjB,SAArC,EAAgD;UAC9CN,WAAW,CAACuB,gBAAZ,GAA+B,EAA/B;QACD;;QAEDvB,WAAW,CAACuB,gBAAZ,CAA6BC,IAA7B,CAAkC,aAAlC;QACAxB,WAAW,CAACK,UAAZ,GAAyB;UACvBoB,IAAI,EAAElB;QADiB,CAAzB;MAGD,CA/BW,CA+BV;;;MAGF,IAAIa,cAAc,GAAG,IAArB;;MAEA,eAAeM,gBAAf,CAAgCC,OAAhC,EAAyC;QACvCA,OAAO,CAACT,gBAAR,CAAyB,KAAzB,EAAgCU,cAAhC;QACA7B,QAAQ,CAAC8B,EAAT,CAAYC,qBAAZ,CAAkC,OAAlC;QACA,MAAM/B,QAAQ,CAAC8B,EAAT,CAAYE,UAAZ,CAAuBJ,OAAvB,CAAN;QACA1B,MAAM,CAAC+B,WAAP,GAAqB,SAArB;QACAhC,WAAW,CAACK,UAAZ,CAAuBoB,IAAvB,CAA4BjB,KAA5B,CAAkCC,OAAlC,GAA4C,EAA5C;QACAW,cAAc,GAAGO,OAAjB;MACD;;MAED;MACE;MACFC,cAFA,GAEiB;QACfR,cAAc,CAACa,mBAAf,CAAmC,KAAnC,EAA0CL,cAA1C;QACA3B,MAAM,CAAC+B,WAAP,GAAqB,UAArB;QACAhC,WAAW,CAACK,UAAZ,CAAuBoB,IAAvB,CAA4BjB,KAA5B,CAAkCC,OAAlC,GAA4C,MAA5C;QACAW,cAAc,GAAG,IAAjB;MACD,CApDW,CAoDV;;;MAGFnB,MAAM,CAACO,KAAP,CAAaC,OAAb,GAAuB,EAAvB;MACAR,MAAM,CAACO,KAAP,CAAa0B,MAAb,GAAsB,SAAtB;MACAjC,MAAM,CAACO,KAAP,CAAa2B,IAAb,GAAoB,kBAApB;MACAlC,MAAM,CAACO,KAAP,CAAa4B,KAAb,GAAqB,OAArB;MACAnC,MAAM,CAAC+B,WAAP,GAAqB,UAArB;;MAEA/B,MAAM,CAACoC,YAAP,GAAsB,MAAM;QAC1BpC,MAAM,CAACO,KAAP,CAAa8B,OAAb,GAAuB,KAAvB;MACD,CAFD;;MAIArC,MAAM,CAACsC,YAAP,GAAsB,MAAM;QAC1BtC,MAAM,CAACO,KAAP,CAAa8B,OAAb,GAAuB,KAAvB;MACD,CAFD;;MAIArC,MAAM,CAACuC,OAAP,GAAiB,MAAM;QACrB,IAAIpB,cAAc,KAAK,IAAvB,EAA6B;UAC3BqB,SAAS,CAACZ,EAAV,CAAaa,cAAb,CAA4B,cAA5B,EAA4C1C,WAA5C,EAAyD2C,IAAzD,CAA8DjB,gBAA9D;QACD,CAFD,MAEO;UACLN,cAAc,CAACC,GAAf;QACD;MACF,CAND;IAOD;;IAED,SAASuB,aAAT,GAAyB;MACvB3C,MAAM,CAACO,KAAP,CAAaC,OAAb,GAAuB,EAAvB;MACAR,MAAM,CAACO,KAAP,CAAa0B,MAAb,GAAsB,MAAtB;MACAjC,MAAM,CAACO,KAAP,CAAa2B,IAAb,GAAoB,kBAApB;MACAlC,MAAM,CAACO,KAAP,CAAa4B,KAAb,GAAqB,OAArB;MACAnC,MAAM,CAACoC,YAAP,GAAsB,IAAtB;MACApC,MAAM,CAACsC,YAAP,GAAsB,IAAtB;MACAtC,MAAM,CAACuC,OAAP,GAAiB,IAAjB;IACD;;IAED,SAASK,kBAAT,GAA8B;MAC5BD,aAAa;MACb3C,MAAM,CAAC+B,WAAP,GAAqB,kBAArB;IACD;;IAED,SAASc,cAAT,CAAwBC,OAAxB,EAAiC;MAC/BA,OAAO,CAACvC,KAAR,CAAcO,QAAd,GAAyB,UAAzB;MACAgC,OAAO,CAACvC,KAAR,CAAcwC,MAAd,GAAuB,MAAvB;MACAD,OAAO,CAACvC,KAAR,CAAcyC,OAAd,GAAwB,UAAxB;MACAF,OAAO,CAACvC,KAAR,CAAc0C,MAAd,GAAuB,gBAAvB;MACAH,OAAO,CAACvC,KAAR,CAAc2C,YAAd,GAA6B,KAA7B;MACAJ,OAAO,CAACvC,KAAR,CAAc4C,UAAd,GAA2B,iBAA3B;MACAL,OAAO,CAACvC,KAAR,CAAc6C,KAAd,GAAsB,MAAtB;MACAN,OAAO,CAACvC,KAAR,CAAc8C,IAAd,GAAqB,wBAArB;MACAP,OAAO,CAACvC,KAAR,CAAc+C,SAAd,GAA0B,QAA1B;MACAR,OAAO,CAACvC,KAAR,CAAc8B,OAAd,GAAwB,KAAxB;MACAS,OAAO,CAACvC,KAAR,CAAcgD,OAAd,GAAwB,MAAxB;MACAT,OAAO,CAACvC,KAAR,CAAciD,MAAd,GAAuB,KAAvB;IACD;;IAED,IAAI,QAAQhB,SAAZ,EAAuB;MACrBxC,MAAM,CAACyD,EAAP,GAAY,UAAZ;MACAzD,MAAM,CAACO,KAAP,CAAaC,OAAb,GAAuB,MAAvB;MACAqC,cAAc,CAAC7C,MAAD,CAAd,CAAuB;MAAvB;MAEAwC,SAAS,CAACZ,EAAV,CAAa8B,kBAAb,CAAgC,cAAhC,EAAgDhB,IAAhD,CAAqD,UAAUiB,SAAV,EAAqB;QACxEA,SAAS,GAAGxD,WAAW,EAAd,GAAmByC,kBAAkB,EAA9C;MACD,CAFD,EAEGgB,KAFH,CAEShB,kBAFT;MAGA,OAAO5C,MAAP;IACD,CATD,MASO;MACL,MAAM6D,OAAO,GAAG5D,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAhB;;MAEA,IAAI4D,MAAM,CAACC,eAAP,KAA2B,KAA/B,EAAsC;QACpCF,OAAO,CAACG,IAAR,GAAe/D,QAAQ,CAACgE,QAAT,CAAkBD,IAAlB,CAAuBE,OAAvB,CAA+B,QAA/B,EAAyC,QAAzC,CAAf;QACAL,OAAO,CAACM,SAAR,GAAoB,mBAApB,CAFoC,CAEK;MAC1C,CAHD,MAGO;QACLN,OAAO,CAACG,IAAR,GAAe,2BAAf;QACAH,OAAO,CAACM,SAAR,GAAoB,qBAApB;MACD;;MAEDN,OAAO,CAACtD,KAAR,CAAc2B,IAAd,GAAqB,kBAArB;MACA2B,OAAO,CAACtD,KAAR,CAAc4B,KAAd,GAAsB,OAAtB;MACA0B,OAAO,CAACtD,KAAR,CAAc6D,cAAd,GAA+B,MAA/B;MACAvB,cAAc,CAACgB,OAAD,CAAd;MACA,OAAOA,OAAP;IACD;EACF;;AA5IY;;AAgJf,SAASjE,QAAT"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import Node from '../core/Node.js';\nimport LightNode from './LightNode.js';\n\nconst sortLights = lights => {\n  return lights.sort((a, b) => a.id - b.id);\n};\n\nclass LightsNode extends Node {\n  constructor() {\n    let lightNodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    super('vec3');\n    this.lightNodes = lightNodes;\n    this._hash = null;\n  }\n\n  get hasLight() {\n    return this.lightNodes.length > 0;\n  }\n\n  generate(builder) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      lightNode.build(builder);\n    }\n\n    return 'vec3( 0.0 )';\n  }\n\n  getHash() {\n    if (this._hash === null) {\n      let hash = '';\n      const lightNodes = this.lightNodes;\n\n      for (const lightNode of lightNodes) {\n        hash += lightNode.light.uuid + ' ';\n      }\n\n      this._hash = hash;\n    }\n\n    return this._hash;\n  }\n\n  getLightNodeByHash(hash) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      if (lightNode.light.uuid === hash) {\n        return lightNode;\n      }\n    }\n\n    return null;\n  }\n\n  fromLights(lights) {\n    const lightNodes = [];\n    lights = sortLights(lights);\n\n    for (const light of lights) {\n      let lightNode = this.getLightNodeByHash(light.uuid);\n\n      if (lightNode === null) {\n        lightNode = new LightNode(light);\n      }\n\n      lightNodes.push(lightNode);\n    }\n\n    this.lightNodes = lightNodes;\n    this._hash = null;\n    return this;\n  }\n\n}\n\nexport default LightsNode;","map":{"version":3,"names":["Node","LightNode","sortLights","lights","sort","a","b","id","LightsNode","constructor","lightNodes","_hash","hasLight","length","generate","builder","lightNode","build","getHash","hash","light","uuid","getLightNodeByHash","fromLights","push"],"sources":["/Users/paolucciloic/Desktop/pokemon-projet-final/Pokeland_Final_Project/node_modules/three-stdlib/nodes/lights/LightsNode.js"],"sourcesContent":["import Node from '../core/Node.js';\nimport LightNode from './LightNode.js';\n\nconst sortLights = lights => {\n  return lights.sort((a, b) => a.id - b.id);\n};\n\nclass LightsNode extends Node {\n  constructor(lightNodes = []) {\n    super('vec3');\n    this.lightNodes = lightNodes;\n    this._hash = null;\n  }\n\n  get hasLight() {\n    return this.lightNodes.length > 0;\n  }\n\n  generate(builder) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      lightNode.build(builder);\n    }\n\n    return 'vec3( 0.0 )';\n  }\n\n  getHash() {\n    if (this._hash === null) {\n      let hash = '';\n      const lightNodes = this.lightNodes;\n\n      for (const lightNode of lightNodes) {\n        hash += lightNode.light.uuid + ' ';\n      }\n\n      this._hash = hash;\n    }\n\n    return this._hash;\n  }\n\n  getLightNodeByHash(hash) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      if (lightNode.light.uuid === hash) {\n        return lightNode;\n      }\n    }\n\n    return null;\n  }\n\n  fromLights(lights) {\n    const lightNodes = [];\n    lights = sortLights(lights);\n\n    for (const light of lights) {\n      let lightNode = this.getLightNodeByHash(light.uuid);\n\n      if (lightNode === null) {\n        lightNode = new LightNode(light);\n      }\n\n      lightNodes.push(lightNode);\n    }\n\n    this.lightNodes = lightNodes;\n    this._hash = null;\n    return this;\n  }\n\n}\n\nexport default LightsNode;\n"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,iBAAjB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAEA,MAAMC,UAAU,GAAGC,MAAM,IAAI;EAC3B,OAAOA,MAAM,CAACC,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,EAAF,GAAOD,CAAC,CAACC,EAA/B,CAAP;AACD,CAFD;;AAIA,MAAMC,UAAN,SAAyBR,IAAzB,CAA8B;EAC5BS,WAAW,GAAkB;IAAA,IAAjBC,UAAiB,uEAAJ,EAAI;IAC3B,MAAM,MAAN;IACA,KAAKA,UAAL,GAAkBA,UAAlB;IACA,KAAKC,KAAL,GAAa,IAAb;EACD;;EAEW,IAARC,QAAQ,GAAG;IACb,OAAO,KAAKF,UAAL,CAAgBG,MAAhB,GAAyB,CAAhC;EACD;;EAEDC,QAAQ,CAACC,OAAD,EAAU;IAChB,MAAML,UAAU,GAAG,KAAKA,UAAxB;;IAEA,KAAK,MAAMM,SAAX,IAAwBN,UAAxB,EAAoC;MAClCM,SAAS,CAACC,KAAV,CAAgBF,OAAhB;IACD;;IAED,OAAO,aAAP;EACD;;EAEDG,OAAO,GAAG;IACR,IAAI,KAAKP,KAAL,KAAe,IAAnB,EAAyB;MACvB,IAAIQ,IAAI,GAAG,EAAX;MACA,MAAMT,UAAU,GAAG,KAAKA,UAAxB;;MAEA,KAAK,MAAMM,SAAX,IAAwBN,UAAxB,EAAoC;QAClCS,IAAI,IAAIH,SAAS,CAACI,KAAV,CAAgBC,IAAhB,GAAuB,GAA/B;MACD;;MAED,KAAKV,KAAL,GAAaQ,IAAb;IACD;;IAED,OAAO,KAAKR,KAAZ;EACD;;EAEDW,kBAAkB,CAACH,IAAD,EAAO;IACvB,MAAMT,UAAU,GAAG,KAAKA,UAAxB;;IAEA,KAAK,MAAMM,SAAX,IAAwBN,UAAxB,EAAoC;MAClC,IAAIM,SAAS,CAACI,KAAV,CAAgBC,IAAhB,KAAyBF,IAA7B,EAAmC;QACjC,OAAOH,SAAP;MACD;IACF;;IAED,OAAO,IAAP;EACD;;EAEDO,UAAU,CAACpB,MAAD,EAAS;IACjB,MAAMO,UAAU,GAAG,EAAnB;IACAP,MAAM,GAAGD,UAAU,CAACC,MAAD,CAAnB;;IAEA,KAAK,MAAMiB,KAAX,IAAoBjB,MAApB,EAA4B;MAC1B,IAAIa,SAAS,GAAG,KAAKM,kBAAL,CAAwBF,KAAK,CAACC,IAA9B,CAAhB;;MAEA,IAAIL,SAAS,KAAK,IAAlB,EAAwB;QACtBA,SAAS,GAAG,IAAIf,SAAJ,CAAcmB,KAAd,CAAZ;MACD;;MAEDV,UAAU,CAACc,IAAX,CAAgBR,SAAhB;IACD;;IAED,KAAKN,UAAL,GAAkBA,UAAlB;IACA,KAAKC,KAAL,GAAa,IAAb;IACA,OAAO,IAAP;EACD;;AAjE2B;;AAqE9B,eAAeH,UAAf"},"metadata":{},"sourceType":"module"}
System.register(["jotai","react"],function(L){"use strict";var m,I,N,T,W,j,C;return{setters:[function(d){m=d.atom,I=d.SECRET_INTERNAL_getScopeContext,N=d.useAtom,T=d.useSetAtom,L({useAtomValue:d.useAtomValue,useUpdateAtom:d.useSetAtom})},function(d){W=d.useContext,j=d.useCallback,C=d.useMemo}],execute:function(){L({atomFamily:Y,atomWithDefault:ue,atomWithHash:Ie,atomWithObservable:We,atomWithReducer:X,atomWithReset:K,atomWithStorage:U,createJSONStorage:$,freezeAtom:se,freezeAtomCreator:ae,loadable:Ve,selectAtom:ne,splitAtom:le,useAtomCallback:re,useHydrateAtoms:Me,useReducerAtom:Q,useResetAtom:G,waitForAll:ge});const d=L("RESET",Symbol());function K(e){const t=m(e,(n,r,s)=>{s===d?r(t,e):r(t,typeof s=="function"?s(n(t)):s)});return t}const q="w",B="h";function G(e,t){const n=I(t),r=W(n).s;return j(()=>r[q](e,d),[r,e])}function Q(e,t,n){const[r,s]=N(e,n),o=j(a=>{s(c=>t(c,a))},[s,t]);return[r,o]}function X(e,t){const n=m(e,(r,s,o)=>s(n,t(r(n),o)));return n}function Y(e,t){let n=null;const r=new Map,s=o=>{let a;if(t===void 0)a=r.get(o);else for(const[i,l]of r)if(t(i,o)){a=l;break}if(a!==void 0)if(n!=null&&n(a[1],o))r.delete(o);else return a[0];const c=e(o);return r.set(o,[c,Date.now()]),c};return s.remove=o=>{if(t===void 0)r.delete(o);else for(const[a]of r)if(t(a,o)){r.delete(a);break}},s.setShouldRemove=o=>{if(n=o,!!n)for(const[a,c]of r)n(c[1],a)&&r.delete(a)},s}const Z=(e,t)=>{do{const[n,...r]=t,s=e.get(n);if(!s)return;if(!r.length)return s[1];e=s[0],t=r}while(t.length)},ee=(e,t,n)=>{do{const[r,...s]=t;let o=e.get(r);if(o||(o=[new WeakMap],e.set(r,o)),!s.length){o[1]=n;return}e=o[0],t=s}while(t.length)},A=()=>{const e=new WeakMap;return(t,n)=>{const r=Z(e,n);if(r)return r;const s=t();return ee(e,n,s),s}},te=A();function ne(e,t,n=Object.is){return te(()=>{const r=m(()=>({}));return m(s=>{const o=t(s(e)),a=s(r);return"prev"in a&&n(a.prev,o)?a.prev:(a.prev=o,o)})},[e,t,n])}function re(e,t){const n=C(()=>m(null,(s,o,[a,c,i])=>{try{c(e(s,o,a))}catch(l){i(l)}}),[e]),r=T(n,t);return j(s=>{let o=!0,a={};const c=new Promise((i,l)=>{r([s,u=>{o?a={v:u}:i(u)},u=>{o?a={e:u}:l(u)}])});if(o=!1,"e"in a)throw a.e;return"v"in a?a.v:c},[r])}const oe=A(),x=e=>{if(typeof e!="object"||e===null)return;Object.freeze(e);const t=Object.getOwnPropertyNames(e);for(const n of t){const r=e[n];x(r)}return e};function se(e){return oe(()=>m(t=>x(t(e)),(t,n,r)=>n(e,r)),[e])}function ae(e){return(...t)=>{const n=e(...t),r=n.read;return n.read=s=>x(r(s)),n}}const ce=A(),V=e=>!!e.write,ie=e=>typeof e=="function";function le(e,t){return ce(()=>{const n=new WeakMap,r=(i,l)=>{let u=n.get(i);if(u)return u;const f=l&&n.get(l),h=[],b=[];return i.forEach((O,y)=>{const p=t?t(O):y;b[y]=p;const S=f&&f.atomList[f.keyList.indexOf(p)];if(S){h[y]=S;return}const P=E=>{const M=E(s),g=E(e),k=r(g,M.prev).keyList.indexOf(p);if(k<0||k>=g.length){const w=i[r(i).keyList.indexOf(p)];if(w)return w;throw new Error("splitAtom: index out of bounds for read")}return g[k]},v=(E,M,g)=>{const k=E(s),w=E(e),R=r(w,k.prev).keyList.indexOf(p);if(R<0||R>=w.length)throw new Error("splitAtom: index out of bounds for write");const ze=ie(g)?g(w[R]):g;M(e,[...w.slice(0,R),ze,...w.slice(R+1)])};h[y]=V(e)?m(P,v):m(P)}),f&&f.keyList.length===b.length&&f.keyList.every((O,y)=>O===b[y])?u=f:u={atomList:h,keyList:b},n.set(i,u),u},s=m(()=>({})),o=i=>{const l=i(s),u=i(e),f=r(u,l.prev);return l.prev=u,f.atomList},a=(i,l,u)=>{switch("read"in u&&(console.warn("atomToRemove is deprecated. use action with type"),u={type:"remove",atom:u}),u.type){case"remove":{const f=i(c).indexOf(u.atom);if(f>=0){const h=i(e);l(e,[...h.slice(0,f),...h.slice(f+1)])}break}case"insert":{const f=u.before?i(c).indexOf(u.before):i(c).length;if(f>=0){const h=i(e);l(e,[...h.slice(0,f),u.value,...h.slice(f)])}break}case"move":{const f=i(c).indexOf(u.atom),h=u.before?i(c).indexOf(u.before):i(c).length;if(f>=0&&h>=0){const b=i(e);f<h?l(e,[...b.slice(0,f),...b.slice(f+1,h),b[f],...b.slice(h)]):l(e,[...b.slice(0,h),b[f],...b.slice(h,f),...b.slice(f+1)])}break}}},c=V(e)?m(o,a):m(o);return c},t?[e,t]:[e])}function ue(e){const t=Symbol(),n=m(t),r=m(s=>{const o=s(n);return o!==t?o:e(s)},(s,o,a)=>a===d?o(n,t):o(n,typeof a=="function"?a(s(r)):a));return r}var fe=Object.defineProperty,me=Object.defineProperties,he=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,D=(e,t,n)=>t in e?fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ve=(e,t)=>{for(var n in t||(t={}))be.call(t,n)&&D(e,n,t[n]);if(z)for(var n of z(t))de.call(t,n)&&D(e,n,t[n]);return e},pe=(e,t)=>me(e,he(t));const ye=A(),we=m(()=>[]);function ge(e){const t=()=>{const n=Oe(e);return m(r=>{const s=[],o=n.map((a,c)=>{try{return r(a)}catch(i){if(i instanceof Promise)s[c]=i;else throw i}});if(s.length)throw Promise.all(s);return Se(e,o)})};return Array.isArray(e)?e.length?ye(t,e):we:t()}const Oe=e=>Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t]),Se=(e,t)=>Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((n,r,s)=>pe(ve({},n),{[r]:t[s]}),{});var Ae=Object.defineProperty,Pe=Object.defineProperties,Ee=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,je=(e,t)=>{for(var n in t||(t={}))ke.call(t,n)&&_(e,n,t[n]);if(J)for(var n of J(t))Re.call(t,n)&&_(e,n,t[n]);return e},Le=(e,t)=>Pe(e,Ee(t));function $(e){let t,n;return{getItem:r=>{const s=a=>(a=a||"",t!==a&&(n=JSON.parse(a),t=a),n),o=e().getItem(r);return o instanceof Promise?o.then(s):s(o)},setItem:(r,s)=>e().setItem(r,JSON.stringify(s)),removeItem:r=>e().removeItem(r)}}const F=$(()=>localStorage);F.subscribe=(e,t)=>{const n=r=>{r.key===e&&r.newValue&&t(JSON.parse(r.newValue))};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}};function U(e,t,n=F){const r=()=>{try{const o=n.getItem(e);return o instanceof Promise?o.catch(()=>t):o}catch{return t}},s=m(n.delayInit?t:r());return s.onMount=o=>{let a;if(n.subscribe&&(a=n.subscribe(e,o),o(r())),n.delayInit){const c=r();c instanceof Promise?c.then(o):o(c)}return a},m(o=>o(s),(o,a,c)=>{if(c===d)return a(s,t),n.removeItem(e);const i=typeof c=="function"?c(o(s)):c;return a(s,i),n.setItem(e,i)})}function Ie(e,t,n){const r=(n==null?void 0:n.serialize)||JSON.stringify,s=(n==null?void 0:n.deserialize)||JSON.parse,o=(n==null?void 0:n.subscribe)||(c=>(window.addEventListener("hashchange",c),()=>{window.removeEventListener("hashchange",c)})),a=Le(je({getItem:c=>{const i=new URLSearchParams(location.hash.slice(1)).get(c);if(i===null)throw new Error("no value stored");return s(i)},setItem:(c,i)=>{const l=new URLSearchParams(location.hash.slice(1));l.set(c,r(i)),n!=null&&n.replaceState?history.replaceState(null,"","#"+l.toString()):location.hash=l.toString()},removeItem:c=>{const i=new URLSearchParams(location.hash.slice(1));i.delete(c),n!=null&&n.replaceState?history.replaceState(null,"","#"+i.toString()):location.hash=i.toString()}},(n==null?void 0:n.delayInit)&&{delayInit:!0}),{subscribe:(c,i)=>o(()=>{const l=new URLSearchParams(location.hash.slice(1)).get(c);i(l!==null?s(l):t)})});return U(e,t,a)}function We(e,t){const n=m(r=>{var s;let o=e(r);const a=(s=o[Symbol.observable])==null?void 0:s.call(o);a&&(o=a);const c=Symbol();let i=null,l=(t==null?void 0:t.initialValue)===void 0?new Promise(v=>{i=v}):void 0,u=!1,f=c,h=!0,b=v=>{(t==null?void 0:t.initialValue)===void 0&&!u?(h&&(l=v),i==null||i(v),u=!0,i=null):f=v};const O=v=>{b(v)},y=v=>{b(Promise.reject(v))};let p=null,S;(t==null?void 0:t.initialValue)!==void 0?S=xe(t):(p=o.subscribe(O,y),S=l),h=!1;const P=m(S);return P.onMount=v=>(b=v,f!==c&&v(f),p||(p=o.subscribe(O,y)),()=>{p==null||p.unsubscribe(),p=null}),{dataAtom:P,observable:o}});return m(r=>{const{dataAtom:s}=r(n);return r(s)},(r,s,o)=>{const{observable:a}=r(n);if("next"in a)a.next(o);else throw new Error("observable is not subject")})}function xe(e){const t=e.initialValue;return t instanceof Function?t():t}const H=new WeakMap;function Me(e,t){const n=I(t),r=W(n),s=r.s,o=Ne(r),a=[];for(const c of e){const i=c[0];o.has(i)||(o.add(i),a.push(c))}a.length&&s[B](a)}function Ne(e){let t=H.get(e);return t||(t=new WeakSet,H.set(e,t)),t}const Te=A(),Ce={state:"loading"};function Ve(e){return Te(()=>{const t=new WeakMap,n=m(r=>{let s;try{const c=r(e);return m({state:"hasData",data:c})}catch(c){if(c instanceof Promise)s=c;else return m({state:"hasError",error:c})}const o=t.get(s);if(o)return o;const a=m(Ce,async(c,i)=>{try{const l=await c(e,{unstable_promise:!0});i(a,{state:"hasData",data:l})}catch(l){i(a,{state:"hasError",error:l})}});return a.onMount=c=>{c()},t.set(s,a),a});return m(r=>{const s=r(n);return r(s)})},[e])}}}});

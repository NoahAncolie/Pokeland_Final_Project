System.register(["xstate","jotai"],function(S){"use strict";var p,s;return{setters:[function(l){p=l.interpret},function(l){s=l.atom}],execute:function(){S("atomWithMachine",W);var l=Object.defineProperty,f=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=(t,r,n)=>r in t?l(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,u=(t,r)=>{for(var n in r||(r={}))y.call(r,n)&&m(t,n,r[n]);if(f)for(var n of f(r))d.call(r,n)&&m(t,n,r[n]);return t},E=(t,r)=>{var n={};for(var a in t)y.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&f)for(var a of f(t))r.indexOf(a)<0&&d.call(t,a)&&(n[a]=t[a]);return n};function W(t,r){const n=s(null),a=s(e=>{const i=e(n);if(i)return i;let o=!0;const c=A=>{if(o)return e(A);throw new Error("get not allowed after initialization")},v=typeof t=="function"?t(c):t,C=typeof r=="function"?r(c):r;o=!1;const O=C||{},{guards:g,actions:w,activities:x,services:j,delays:M}=O,I=E(O,["guards","actions","activities","services","delays"]),T=u(u(u(u(u({},g&&{guards:g}),w&&{actions:w}),x&&{activities:x}),j&&{services:j}),M&&{delays:M}),P=v.withConfig(T,v.context),z=p(P,I);return{machine:P,service:z}},(e,i,o)=>{i(n,e(a))});a.onMount=e=>{e()};const h=s(null),b=s(e=>{var i;return(i=e(h))!=null?i:e(a).machine.initialState},(e,i,o)=>{const{service:c}=e(a);c.onTransition(v=>{i(h,v)}),c.start(),o(()=>{c.stop()})});return b.onMount=e=>{let i;return e(o=>{i===!1?o():i=o}),()=>{i&&i(),i=!1}},s(e=>e(b),(e,i,o)=>{const{service:c}=e(a);c.send(o)})}}}});
